{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["const refs = {\nimageSearchForm: document.querySelector('.search-form'),\nimageSearchInput: document.querySelector('.search-input'),\nsubmitButton: document.querySelector('.search-btn'),\nimageList: document.querySelector('.images-list'),\n}\n\n\n\n\n\nexport function renderImages(images) {\n    \n\n    const markup = images.hits.map((image) => {\n       return `<li class=\"images-list-item\">\n  <a class=\"img-link\" href=${image.largeImageURL} onclick=\"event.preventDefault()\"><img class=\"img\" src=${image.webformatURL} alt=${image.tags}></img></a>\n   <ul class=\"img-dscr\">\n      <li class=\"img-data\">\n        <p class=\"img-data-title\">Likes</p>\n        <p class=\"img-data-numbers\">${image.likes}</p>\n      </li>\n      <li class=\"img-data\">\n        <p class=\"img-data-title\">Views</p>\n        <p class=\"img-data-numbers\">${image.views}</p>\n      </li>\n      <li class=\"img-data\">\n        <p class=\"img-data-title\">Comments</p>\n        <p class=\"img-data-numbers\">${image.comments}</p>\n      </li>\n      <li class=\"img-data\">\n        <p class=\"img-data-title\">Downloads</p>\n        <p class=\"img-data-numbers\">${image.downloads}</p>\n      </li>\n    </ul>\n   </li>`;\n    }).join('');\n\n    refs.imageList.innerHTML = markup; \n\n}","export function getImages(auto) {\n    const BASE_URL = 'https://pixabay.com';\n    const END_POINT = '/api/';\n\n    const params = new URLSearchParams({\n        key: '44477511-7934322deb574a4a64d25451d',\n        q: auto,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch:true,\n\n    })\n    \n    const url = `${BASE_URL}${END_POINT}?${params}`;\n    console.log(url);\n    \n    const options = {\n        headers: {\n            // 'Access-Control-Allow-Origin': '*', \n            \"Content-Type\": \"application/json\",\n\n            /* 'X-RateLimit-Limit': '100',\n            'X-RateLimit-Remaining': '99',\n            'X-RateLimit-Reset': '0.6', */\n    },\n}\n    \n    return fetch(url, {options}).then(res => {\n            if (res.ok) {\n                return res.json();\n            } else {\n                throw new Error(res.status);\n                      }\n        });\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { renderImages } from \"./js/render-functions\";\nimport { getImages } from \"./js/pixabay-api\";\n\nconst refs = {\n    imageSearchForm: document.querySelector('.search-form'),\n    imageSearchInput: document.querySelector('.search-input'),\n    submitButton: document.querySelector('.search-btn'),\n    imageList: document.querySelector('.images-list'),\n    loader: document.querySelector('.loader'),\n}\n\nrefs.loader.style.display = 'none';\n\nlet auto;\n\nrefs.imageSearchForm.addEventListener('submit', e => {\n    e.preventDefault();\n    auto = e.target.elements.userData.value;\n    console.log(auto);\n    if (auto.trim() === '') {\n        refs.imageList.innerHTML = '';\n        iziToast.error({\n            message: '\"Sorry, there are no images matching your search query. Please try again!\"',\n            position: 'bottomRight',\n            transitionIn: 'bounceInDown',\n            transitionOut: 'fadeOutDown',\n        });\n\n        \n\n    }\n\n    refs.loader.style.display = 'block';\n    getImages(auto)\n        .then(images => {\n            if (images.hits.length === 0) {\n                refs.imageList.innerHTML = '';\n                return iziToast.warning({\n                    title: 'Caution',\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                });\n\n\n            } else {\n                renderImages(images);\n\n                 const lightbox = new SimpleLightbox('.images-list-item a', {\n                        captions: true,\n                        captionSelector: 'img',\n                        captionType: 'attr',\n                        captionsData: 'alt',\n                        captionPosition: 'bottom',\n                        captionDelay: 250,\n                        animationSpeed: 300,\n                        widthRatio: 1,\n                        heightRatio: 0.95,\n                        disableRightClick: true,\n                    });\n                    lightbox.refresh();\n            }\n        })\n        .then(() => refs.loader.style.display = 'none')\n        .catch(err => {\n            console.log(err);\n            refs.loader.style.display = 'none';\n        })\n    e.target.reset();\n\n\n\n\n    \n})\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"],"names":["refs","renderImages","images","markup","image","getImages","auto","BASE_URL","END_POINT","params","url","res","e","iziToast","SimpleLightbox","err"],"mappings":"6vBAAA,MAAMA,EAAO,CACb,gBAAiB,SAAS,cAAc,cAAc,EACtD,iBAAkB,SAAS,cAAc,eAAe,EACxD,aAAc,SAAS,cAAc,aAAa,EAClD,UAAW,SAAS,cAAc,cAAc,CAChD,EAMO,SAASC,EAAaC,EAAQ,CAGjC,MAAMC,EAASD,EAAO,KAAK,IAAKE,GACtB;AAAA,6BACeA,EAAM,aAAa,0DAA0DA,EAAM,YAAY,QAAQA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,sCAIxGA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,sCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,sCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,sCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,SAIhD,EAAE,KAAK,EAAE,EAEVJ,EAAK,UAAU,UAAYG,CAE/B,CCxCO,SAASE,EAAUC,EAAM,CAC5B,MAAMC,EAAW,sBACXC,EAAY,QAEZC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAW,EAEnB,CAAK,EAEKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAC7C,eAAQ,IAAIC,CAAG,EAaR,MAAMA,EAAK,CAAC,QAXH,CACZ,QAAS,CAEL,eAAgB,kBAKvB,CACL,CAE8B,CAAC,EAAE,KAAKC,GAAO,CACjC,GAAIA,EAAI,GACJ,OAAOA,EAAI,OAEX,MAAM,IAAI,MAAMA,EAAI,MAAM,CAE1C,CAAS,CACT,CCzBA,MAAMX,EAAO,CACT,gBAAiB,SAAS,cAAc,cAAc,EACtD,iBAAkB,SAAS,cAAc,eAAe,EACxD,aAAc,SAAS,cAAc,aAAa,EAClD,UAAW,SAAS,cAAc,cAAc,EAChD,OAAQ,SAAS,cAAc,SAAS,CAC5C,EAEAA,EAAK,OAAO,MAAM,QAAU,OAE5B,IAAIM,EAEJN,EAAK,gBAAgB,iBAAiB,SAAUY,GAAK,CACjDA,EAAE,eAAc,EAChBN,EAAOM,EAAE,OAAO,SAAS,SAAS,MAClC,QAAQ,IAAIN,CAAI,EACZA,EAAK,KAAM,IAAK,KAChBN,EAAK,UAAU,UAAY,GAC3Ba,EAAS,MAAM,CACX,QAAS,6EACT,SAAU,cACV,aAAc,eACd,cAAe,aAC3B,CAAS,GAMLb,EAAK,OAAO,MAAM,QAAU,QAC5BK,EAAUC,CAAI,EACT,KAAKJ,GAAU,CACZ,GAAIA,EAAO,KAAK,SAAW,EACvB,OAAAF,EAAK,UAAU,UAAY,GACpBa,EAAS,QAAQ,CACpB,MAAO,UACP,QAAS,0EAC7B,CAAiB,EAIDZ,EAAaC,CAAM,EAED,IAAIY,EAAe,sBAAuB,CACpD,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,aAAc,IACd,eAAgB,IAChB,WAAY,EACZ,YAAa,IACb,kBAAmB,EAC3C,CAAqB,EACQ,QAAO,CAEpC,CAAS,EACA,KAAK,IAAMd,EAAK,OAAO,MAAM,QAAU,MAAM,EAC7C,MAAMe,GAAO,CACV,QAAQ,IAAIA,CAAG,EACff,EAAK,OAAO,MAAM,QAAU,MACxC,CAAS,EACLY,EAAE,OAAO,OAMb,CAAC"}